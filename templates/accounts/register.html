{% extends 'accounts/base.html' %}
{% load crispy_forms_tags %}

{% block title %}
  Register
{% endblock %}

{% block content %}
  <!-- Container to center the form and adjust layout -->
  <div class="login-page">
    <div class="container d-flex justify-content-center align-items-center min-vh-100">
      <div class="form shadow-lg rounded p-4" style="max-width: 500px; width: 100%;">
        <h2 class="mb-4 text-success fw-bold text-center">Register</h2>

        <!-- Error Message Display -->
        <div class="text-danger mb-3">
          {% if messages %}
            {% for message in messages %}
              <div class="alert alert-{{ message.tags }}">{{ message }}</div>
            {% endfor %}
          {% endif %}

          {% if form.non_field_errors %}
            <ul>
              {% for error in form.non_field_errors %}
                <li>{{ error }}</li>
              {% endfor %}
            </ul>
          {% endif %}
        </div>

        <!-- Registration Form -->
        <form method="POST" class="login-form">
          {% csrf_token %}

          <!-- Username Field -->
          <div class="form-group">
            <label for="id_username">Username</label>
            <span class="text-danger">{{ form.username.errors }}</span>
            {{ form.username }}
          </div>

          <!-- Email Field -->
          <div class="form-group">
            <label for="id_email">Email</label>
            <span class="text-danger">{{ form.email.errors }}</span>
            {{ form.email }}
          </div>

          <!-- Password Field -->
          <div class="form-group">
            <label for="id_password1">Enter Password</label>
            <span class="text-danger">{{ form.password1.errors }}</span>
            {{ form.password1 }}
          </div>

          <!-- Confirm Password Field -->
          <div class="form-group">
            <label for="id_password2">Confirm Password</label>
            <span class="text-danger">{{ form.password2.errors }}</span>
            {{ form.password2 }}
          </div>

          <!-- Submit Button -->
          <button type="submit" class="btn btn-success w-100 mt-3">Register</button>

          <!-- Login Redirect -->
          <p class="message mt-3 text-center">
            Already have an account? <a href="{% url 'user-login' %}" class="text-decoration-none text-primary fw-semibold">Login</a>
          </p>
        </form>
      </div>
    </div>
  </div>
{% endblock %}
