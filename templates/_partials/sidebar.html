{% load static %}
<nav class="sidebar sidebar-offcanvas" id="sidebar">
  <!-- Sidebar Branding -->
  <div class="text-center sidebar-brand-wrapper d-flex align-items-center">
    <div style="font-size: 24px; white-space: nowrap;">
      <a href="/" class="text-decoration-none">
        <span class="sidebar-brand brand-logo" style="color: #127D61;">Pure</span>
        <span style="color: #F79420;">Shopper</span>
      </a>
    </div>
  </div>

  <!-- Navigation Menu -->
  <ul class="nav">
    <!-- Divider -->
    <li>
      <hr class="sidebar-divider my-3" />
    </li>

    <!-- Dashboard Link -->
    <li class="nav-item">
      <a class="nav-link" href="{% url 'dashboard' %}">
        <i class="mdi mdi-view-dashboard menu-icon"></i>
        <span class="menu-title">DASHBOARD</span>
      </a>
    </li>

    <!-- Divider -->
    <li>
      <hr class="sidebar-divider my-3" />
    </li>

    <!-- Manage Suppliers -->
    <li class="nav-item">
      <a class="nav-link" href="{% url 'supplier:supplier_list' %}">
        <i class="mdi mdi-factory menu-icon"></i>
        <span class="menu-title">Suppliers</span>
      </a>
    </li>

    <!-- Manage Products Dropdown -->
    <li class="nav-item">
      <a class="nav-link" data-toggle="collapse" href="#ui-basic-sp" aria-expanded="false" aria-controls="ui-basic-sp">
        <i class="mdi mdi-package menu-icon"></i>
        <span class="menu-title">Products</span>
        <i class="menu-arrow"></i>
      </a>
      <div class="collapse" id="ui-basic-sp">
        <ul class="nav flex-column sub-menu">
          <li class="nav-item">
            <a class="nav-link" href="{% url 'products:categories_list' %}" target="_self"><i class="mdi mdi-tag-multiple menu-icon"></i> Categories</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'products:products_list' %}" target="_self"><i class="mdi mdi-package menu-icon"></i> Product List</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'products:products_list_all' %}" target="_self"><i class="mdi mdi-package menu-icon"></i> All Product List</a>
          </li>
        </ul>
      </div>
    </li>

    <!-- Inventory Section -->
    <li class="nav-item">
      <a class="nav-link" data-toggle="collapse" href="#inventory-menu" aria-expanded="false" aria-controls="inventory-menu">
        <i class="mdi mdi-warehouse menu-icon"></i>
        <span class="menu-title">Inventory</span>
        <i class="menu-arrow"></i>
      </a>
      <div class="collapse" id="inventory-menu">
        <ul class="nav flex-column sub-menu">
          <li class="nav-item">
            <a class="nav-link" href="{% url 'inventory:inventory_list' %}"><i class="mdi mdi-box-cutter menu-icon"></i> Stock</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'products:stock_alerts' %}" target="_self"><i class="mdi mdi-alert menu-icon"></i> Stock Alerts</a>
          </li>
        </ul>
      </div>
    </li>
    <!-- Purchase Orders -->
    <li class="nav-item">
      <a class="nav-link" href="{% url 'supplier:purchase-orders-list' %}">
        <i class="mdi mdi-truck menu-icon"></i>
        <span class="menu-title">Purchase Orders</span>
      </a>
    </li>

    <!-- Sales Orders -->
    <li class="nav-item">
      <a class="nav-link" href="{% url 'orders:orders_to_be_processed' %}">
        <i class="mdi mdi-cart menu-icon"></i>
        <span class="menu-title">Sales Orders</span>
      </a>
    </li>

    <!-- Sales Management -->
    <li class="nav-item">
      <a class="nav-link" href="{% url 'sales:sales_list' %}">
        <i class="mdi mdi-trending-up menu-icon"></i>
        <span class="menu-title">Sales</span>
      </a>
    </li>

    {% if user.profile.role == 'administrator' %}
      <!-- Finance Section for Admin -->
      <li class="nav-item">
        <a class="nav-link" data-toggle="collapse" href="#financeSubmenu" aria-expanded="false" aria-controls="financeSubmenu">
          <i class="mdi mdi-bank menu-icon"></i>
          <span class="menu-title">Finance</span>
          <i class="menu-arrow"></i>
        </a>
        <div class="collapse" id="financeSubmenu">
          <ul class="nav flex-column sub-menu">
            <li class="nav-item">
              <a class="nav-link" href="{% url 'finance:chart_of_accounts_list' %}"><i class="mdi mdi-account-plus menu-icon"></i> Chart of A/Cs</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'finance:import_coa_data' %}"><i class="mdi mdi-file-import menu-icon"></i> Import Accounts</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'finance:income_add' %}"><i class="mdi mdi-plus-circle-outline menu-icon"></i> Add Income</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'finance:expense_add' %}"><i class="mdi mdi-minus-circle-outline menu-icon"></i> Add Expense</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'finance:multi_journal' %}"><i class="mdi mdi-book menu-icon"></i> Multi Journal</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'finance:ledger_report' %}"><i class="mdi mdi-book-open menu-icon"></i> All Ledgers</a>
            </li>
          </ul>
        </div>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="{% url 'customers:customers_list' %}">
          <i class="mdi mdi-account-multiple menu-icon"></i>
          <span class="menu-title">Customers</span>
        </a>
      </li>

      <!-- Reports Section for Admin -->
      <li class="nav-item">
        <a class="nav-link" data-toggle="collapse" href="#ui-basic2" aria-expanded="false" aria-controls="ui-basic2">
          <i class="mdi mdi-chart-bar menu-icon"></i>
          <span class="menu-title">Reports</span>
          <i class="menu-arrow"></i>
        </a>
        <div class="collapse" id="ui-basic2">
          <ul class="nav flex-column sub-menu">
            <li class="nav-item">
              <a class="nav-link" href="{% url 'inventory:inventory-report' %}"><i class="mdi mdi-file-chart menu-icon"></i> Inventory Report</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'sales:sales_report' %}" target="_self"><i class="mdi mdi-file-chart menu-icon"></i> Sales Report</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'finance:profit_and_loss' %}" target="_self"><i class="mdi mdi-chart-bar menu-icon"></i> Profit & Loss</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'finance:balance_sheet' %}" target="_self"><i class="mdi mdi-file-chart menu-icon"></i> Balance Sheet</a>
            </li>
          </ul>
        </div>
      </li>

      <!-- Settings Section for Admin -->
      <li class="nav-item">
        <a class="nav-link" data-toggle="collapse" href="#ui-basic3" aria-expanded="false" aria-controls="ui-basic3">
          <i class="mdi mdi-settings menu-icon"></i>
          <span class="menu-title">Settings</span>
          <i class="menu-arrow"></i>
        </a>
        <div class="collapse" id="ui-basic3">
          <ul class="nav flex-column sub-menu">
            <li class="nav-item">
              <a class="nav-link" href="{% url 'profile_list' %}"><i class="mdi mdi-account-circle menu-icon"></i> Profiles</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'user_feedback' %}"><i class="mdi mdi-comment-text menu-icon"></i> Feedback</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'testimonials' %}"><i class="mdi mdi-comment-text menu-icon"></i> Testimonials</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'subscriber_list' %}"><i class="mdi mdi-comment-text menu-icon"></i> Subscribers</a>
            </li>
          </ul>
        </div>
      </li>
    {% else %}
      <!-- Non-admin Finance, Reports, and Settings -->
      <li class="nav-item">
        <a class="nav-link" href="#" onclick="showMessageSettings(event)">
          <i class="mdi mdi-alert menu-icon"></i>
          <span class="menu-title">Settings</span>
        </a>
      </li>
    {% endif %}
  </ul>
</nav>
